# Introduction

Handling errors is an important part of every API integration.

While errors can be frustrating, we aim to make them as easy as possible to fix by using the same error format on every API and by including as much detail as possible in the error response.

This space provides info about the technical details on how to handle errors in your application, as well as an overview of common errors and how to fix them.

> For errors that are specific to a single API, more info can be found in that API's documentation space.

## Error response format

Error responses from publiq APIs follow the [RFC7807](https://datatracker.ietf.org/doc/html/rfc7807) standard.

### Status codes

Every error response uses a HTTP status code within the 400 or 500 range.

The most common status codes are:

*   `400` **Bad request**: A query parameter, part of the response body, or other part of the request (not covered by other statuses) is malformed, invalid or unrecognized.
*   `401` **Unauthorized**: The request is missing the required authentication info, or the credentials that are used are invalid or expired. (See the [Authentication docs](https://publiq.stoplight.io/docs/authentication/docs/errors.md#unauthorized) for more info)
*   `403` **Forbidden**: The request is successfully authenticated, but you do not have permission to perform it on the given API or resource with the used credentials. (See the [Authentication docs](https://publiq.stoplight.io/docs/authentication/docs/errors.md#forbidden) for more info)
*   `404` **Not found**: The requested URL does not exist. Can either be because the endpoint does not exist, or a resource id or slug used in the path does not exist.

### Content-Type

Error responses use the `application/problem+json` content-type header from the RFC7807 standard.

### Body

#### Standard properties

Error responses from publiq APIs always include at least the 4 following properties defined by the RFC7807 standard:

*   `type` - A URL used to identify the problem. You can use this to differentiate between errors inside your application. Make sure to always compare the full URL and not just the last part, since some APIs might share similar yet different error types.
*   `title` - A short, human-readable summary of the problem type.
*   `detail` - A human-readable summary about this specific instance of the problem.
*   `status` - The HTTP status code generated by the origin server for this occurrence of the problem.

For example:

```json
{
  "type": "https://api.publiq.be/probs/uitpas/invalid-uitpasnumber",
  "title": "UiTPAS number invalid",
  "detail": "UiTPAS numbers must be exactly 13 digits.",
  "status": "400"
}
```

#### jsonPointer

In some cases error responses can include a `jsonPointer` property. This pointer indicates which specific JSON property inside the request body was invalid or caused a problem. It is especially helpful when one specific item inside a list caused an issue, because you can then ask your end user to correct it or leave it out.

For example given the following JSON body in the request:

```json
{
  "uitpasNumbers": [
    "0900000905506",
    "129876542345678987633456434567", // invalid
    "0000100038306",
  ]
}
```

The error response can pinpoint the problematic property value like this:

```json
{
  "type": "https://api.publiq.be/probs/uitpas/invalid-uitpasnumber",
  "title": "UiTPAS number invalid",
  "detail": "UiTPAS numbers must be exactly 13 digits.",
  "status": "400",
  "jsonPointer": "/uitpasNumbers/1" // Indicates the problematic property value
}
```
